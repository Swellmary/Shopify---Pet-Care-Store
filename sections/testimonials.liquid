{{ 'section-testimonials.css' | asset_url | stylesheet_tag }}

<div class="testimonials-section" data-section-id="{{ section.id }}">
  <h2 class="testimonials-heading">{{ section.settings.heading }}</h2>
  
  <div class="testimonials-wrapper">
    <button class="slider-arrow slider-prev" aria-label="Previous">&#8249;</button>
    
    <div class="testimonials-grid">
      {% for block in section.blocks %}
        <div class="testimonial-card" {{ block.shopify_attributes }}>
          <div class="testimonial-card-inner">
            <p class="testimonial-quote">"{{ block.settings.quote }}"</p>
            <button class="see-more-btn" data-quote="{{ block.settings.quote | escape }}" data-author="{{ block.settings.author | escape }}">See More</button>
          </div>
          <span class="testimonial-author">- {{ block.settings.author }}</span>
        </div>
      {% endfor %}
    </div>
    
    <button class="slider-arrow slider-next" aria-label="Next">&#8250;</button>
  </div>

  <div class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close">&times;</button>
      <p class="modal-quote"></p>
      <span class="modal-author"></span>
    </div>
  </div>
</div>

<script src="{{ 'section-testimonials.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Testimonials",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What People Say"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "textarea",
          "id": "quote",
          "label": "Quote",
          "default": "This is an amazing store with great products and excellent customer service!"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author",
          "default": "John Smith"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials"
    }
  ]
}
{% endschema %}